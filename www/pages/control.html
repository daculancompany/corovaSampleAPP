<ons-page>
    <ons-toolbar>
        <div class="left">
            <ons-toolbar-button onclick="fn.open()">
                <ons-icon icon="ion-navicon, material:md-menu"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center">Control Page</div>
    </ons-toolbar>
    <div class="page-content">
        <ons-pull-hook id="pull-hook"> Pull to refresh </ons-pull-hook>
        <ons-list>
            <ons-list-item>Item 1</ons-list-item>
            <ons-list-item>Item 2</ons-list-item>
            <ons-list-item>Item 3</ons-list-item>
            <ons-list-item>Item 4</ons-list-item>
            <ons-list-item>Item 5</ons-list-item>
            <ons-list-item>Item 6</ons-list-item>
        </ons-list>
    </div>
    <script>
        ons.ready(function () {
            var pullHook = document.getElementById("pull-hook");

            pullHook.addEventListener("changestate", function (event) {
                var message = "";

                switch (event.state) {
                    case "initial":
                        message = "Pull to refresh";
                        break;
                    case "preaction":
                        message = "Release";
                        break;
                    case "action":
                        message = "Loading...";
                        break;
                }

                pullHook.innerHTML = message;
            });

            pullHook.onAction = function (done) {
                setTimeout(done, 1000);
            };
        });
    </script>
</ons-page>
